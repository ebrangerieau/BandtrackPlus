/*
  Styles généraux pour l'application BandTrack.
  On utilise des variables CSS pour permettre de changer rapidement de thème
  (mode clair ou sombre). Le changement de thème est géré en ajoutant ou en
  supprimant la classe `dark` sur l'élément <body> dans app.js.
*/

:root {
  --bg-color: #f7f7f7;
  --text-color: #222222;
  --primary-color: #3366ff;
  --card-bg: #ffffff;
  --border-color: #e0e0e0;
  --nav-bg: #ffffff;
  --nav-border: #cccccc;
  --danger-color: #d9534f;
  --success-color: #5cb85c;
}

/* Thème sombre (écrase certaines variables) */
body.dark {
  --bg-color: #1e1e1e;
  --text-color: #e0e0e0;
  --primary-color: #6699ff;
  --card-bg: #2b2b2b;
  --border-color: #444444;
  --nav-bg: #2b2b2b;
  --nav-border: #555555;
  --danger-color: #e57373;
  --success-color: #81c784;
}

/* Templates visuels
   Chaque template définit ses propres couleurs via des variables CSS.  La
   classe ``template-classic`` correspond au style par défaut.  La
   classe ``template-groove`` propose un look inspiré des applications
   modernes de streaming musical, avec des tons bleu foncé et vert.
   La classe ``template-violet`` ajoute un dégradé violet.
   La classe ``template-imgbg`` applique une image de fond aux tons jaune/orangé/marron.
*/

/* Template classique – hérite des valeurs définies dans :root et .dark */
body.template-classic {
  /* Pas de redéfinition nécessaire pour l’instant */
}

/* Template groove (mode clair) – pastel contrasté, légèrement plus foncé que le classique */
body.template-groove {
  --bg-color: #e6eff5;
  --text-color: #0e1a24; /* texte plus foncé pour un meilleur contraste */
  --primary-color: #4ea3a5;
  --card-bg: #ffffff;
  --border-color: #96b3bf;
  --nav-bg: #c6dde8; /* arrière-plan légèrement éclairci */
  --nav-border: #8fb1c4;
  --danger-color: #e57373;
  --success-color: #81c784;
}

/* Template groove en mode sombre – palette pastel assombrie */
body.template-groove.dark {
  --bg-color: #1b2a38; /* fond plus sombre */
  --text-color: #f1f8ff; /* texte éclairci */
  --primary-color: #4ea3a5;
  --card-bg: #243a4b;
  --border-color: #40596b;
  --nav-bg: #16232e; /* navigation plus foncée */
  --nav-border: #40596b;
  --danger-color: #ef9a9a;
  --success-color: #a5d6a7;
}

/* Template violet (mode clair) – dégradé violet doux */
body.template-violet {
  --bg-color: linear-gradient(135deg, #f3e5f5, #d1c4e9);
  --text-color: #2d0d57;
  --primary-color: #7b1fa2;
  --card-bg: #ffffff;
  --border-color: #b39ddb;
  --nav-bg: rgba(243, 229, 245, 0.9);
  --nav-border: #b39ddb;
  --danger-color: #e57373;
  --success-color: #81c784;
}

/* Template violet en mode sombre – dégradé violet foncé */
body.template-violet.dark {
  --bg-color: linear-gradient(135deg, #4a148c, #12005e);
  --text-color: #f3e5f5;
  --primary-color: #ba68c8;
  --card-bg: rgba(49, 27, 146, 0.8);
  --border-color: #5e35b1;
  --nav-bg: rgba(49, 27, 146, 0.9);
  --nav-border: #7e57c2;
  --danger-color: #ef9a9a;
  --success-color: #a5d6a7;
}

/* Template imgbg (mode clair) – image de fond avec palette pastel jaune/orangé/marron */
body.template-imgbg {
  --bg-color: url('img_bg.png') center/cover no-repeat fixed #fff8e1;
  --text-color: #5d4037;
  --primary-color: #ffb74d;
  --card-bg: rgba(255, 255, 255, 0.8);
  --border-color: #e0c097;
  --nav-bg: rgba(255, 248, 225, 0.9);
  --nav-border: #ffcc80;
  --danger-color: #e57373;
  --success-color: #81c784;
}

/* Template imgbg en mode sombre – palette pastel assombrie */
body.template-imgbg.dark {
  --bg-color: url('img_bg.png') center/cover no-repeat fixed #5d4037;
  --text-color: #fff8e1;
  --primary-color: #ffcc80;
  --card-bg: rgba(93, 64, 55, 0.8);
  --border-color: #a1887f;
  --nav-bg: rgba(93, 64, 55, 0.9);
  --nav-border: #a1887f;
  --danger-color: #ef9a9a;
  --success-color: #a5d6a7;
}

/* Réinitialisation de base */
body, html {
  margin: 0;
  padding: 0;
  height: 100%;
  background: var(--bg-color);
  color: var(--text-color);
}

/* Container principal */
#app {
  padding-bottom: 60px; /* espace pour la barre de navigation */
  min-height: 100vh;
  box-sizing: border-box;
  /* Ajout d’un padding en haut pour laisser de la place au logo */
  padding-top: 60px;
}

/* En-tête avec logo */
.header {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  height: 60px;
  display: flex;
  align-items: center;
  gap: 16px;
  padding: 0 16px;
  background: var(--nav-bg);
  border-bottom: 1px solid var(--nav-border);
  z-index: 200;
}

.logo-img {
  height: 40px;
  flex-shrink: 0;
}

#group-name {
  font-weight: bold;
}

.group-info {
  display: flex;
  align-items: center;
  flex: 1;
  gap: 4px;
}

#theme-toggle {
  width: 32px;
  height: 32px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: none;
  border: none;
  cursor: pointer;
  font-size: 18px;
  flex-shrink: 0;
}

#theme-toggle:hover {
  opacity: 0.8;
}

#profile-btn {
  width: 40px;
  height: 40px;
  border: none;
  background: none;
  padding: 0;
  cursor: pointer;
  border-radius: 50%;
  overflow: hidden;
  flex-shrink: 0;
}

#profile-btn img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  border-radius: 50%;
}

#profile-btn:hover {
  opacity: 0.8;
}

#menu-container {
  position: relative;
  display: flex;
  align-items: center;
}

#profile-menu {
  position: absolute;
  top: 48px;
  right: 0;
  background: var(--nav-bg);
  border: 1px solid var(--nav-border);
  border-radius: 4px;
  z-index: 300;
}

#profile-menu button {
  background: none;
  border: none;
  padding: 8px 16px;
  text-align: left;
  color: var(--text-color);
  cursor: pointer;
  font-weight: bold;
}

#profile-menu button:hover {
  background-color: var(--border-color);
}

#profile-menu button.logout-btn {
  background-color: var(--danger-color);
  color: #fff;
  border-radius: 4px;
  width: 100%;
  margin-top: 4px;
}

#profile-menu button.logout-btn:hover {
  background-color: var(--danger-color);
  opacity: 0.9;
}

/* Formulaires d'authentification */
.auth-container {
  max-width: 400px;
  margin: 60px auto;
  padding: 20px;
  background: var(--card-bg);
  border: 1px solid var(--border-color);
  border-radius: 8px;
  box-shadow: 0 2px 4px rgba(0,0,0,0.1);
}

.auth-container h2 {
  margin-top: 0;
  text-align: center;
}

.auth-container label {
  display: block;
  margin-bottom: 6px;
  margin-top: 12px;
}

.auth-container input[type="text"],
.auth-container input[type="password"],
.auth-container input[type="date"] {
  width: 100%;
  padding: 8px;
  border: 1px solid var(--border-color);
  border-radius: 4px;
  box-sizing: border-box;
}

.auth-container button {
  width: 100%;
  padding: 10px;
  margin-top: 20px;
  background-color: var(--primary-color);
  color: #fff;
  border: none;
  border-radius: 4px;
  cursor: pointer;
  font-size: 16px;
}

.auth-container button:hover {
  opacity: 0.9;
}

.auth-container .link {
  display: block;
  text-align: center;
  margin-top: 12px;
  color: var(--primary-color);
  text-decoration: none;
  cursor: pointer;
}

/* Styles généraux pour les champs de formulaire texte */
input[type="text"],
input[type="password"],
input[type="date"],
input[type="time"],
input[type="url"],
input[type="email"],
input[type="number"],
input[type="datetime-local"],
textarea,
select {
  box-shadow: 0 1px 2px rgba(0,0,0,0.1);
  transition: box-shadow 0.2s ease;
}

input[type="text"]:focus,
input[type="password"]:focus,
input[type="date"]:focus,
input[type="time"]:focus,
input[type="url"]:focus,
input[type="email"]:focus,
input[type="number"]:focus,
input[type="datetime-local"]:focus,
textarea:focus,
select:focus {
  box-shadow: 0 2px 4px rgba(0,0,0,0.15);
  outline: none;
}

/* Page d'accueil après connexion */
  .home-container {
    max-width: 400px;
    margin: 60px auto;
    padding: 20px;
    background: var(--card-bg);
    border: 1px solid var(--border-color);
    border-radius: 8px;
    text-align: left;
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
  }

.home-container button {
  padding: 10px 20px;
  margin-top: 20px;
  background-color: var(--primary-color);
  color: #fff;
  border: none;
  border-radius: 4px;
  cursor: pointer;
  font-size: 16px;
}

/* Barre de navigation en bas de page */
.nav-bar {
  position: fixed;
  bottom: 0;
  left: 0;
  width: 100%;
  height: 60px;
  display: flex;
  align-items: center;
  justify-content: space-around;
  background: var(--nav-bg);
  border-top: 1px solid var(--nav-border);
  z-index: 100;
}

.nav-bar button {
  background: none;
  border: none;
  flex: 1;
  height: 100%;
  color: var(--text-color);
  font-size: 14px;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  font-weight: bold;
}

.nav-bar button svg {
  width: 24px;
  height: 24px;
  margin-bottom: 4px;
}

.nav-bar button.active {
  color: var(--primary-color);
}

/* Contenu de page */
.page {
  padding: 20px;
}

/* Cartes pour les listes */
.card {
  /* Tailwind classes handle background, border, radius and padding */
  margin-bottom: 16px;
}

.card.collapsed .card-details {
  display: none;
}

.card h3 {
  margin-top: 0;
  cursor: pointer;
  font-weight: bold;
}

.card-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.level-badge {
  font-weight: bold;
}

.like-info {
  display: flex;
  gap: 6px;
  align-items: center;
}

.like-btn {
  background: transparent;
  border: none;
  cursor: pointer;
  font-size: 18px;
}

.actions {
  margin-top: 10px;
  display: flex;
  gap: 8px;
}

.actions button {
  padding: 6px 10px;
  border: none;
  border-radius: 4px;
  cursor: pointer;
  font-size: 14px;
}

.btn-primary {
  background-color: var(--primary-color);
  color: #fff;
}

.btn-danger {
  background-color: var(--danger-color);
  color: #fff;
}

.btn-secondary {
  background-color: var(--border-color);
  color: var(--text-color);
}

/* Inputs spécifiques */
input[type="range"] {
  width: 100%;
  margin-top: 8px;
}

.level-display {
  font-weight: bold;
}

/* Zone modale pour ajout */
.modal {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0, 0, 0, 0.4);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 200;
}

.modal-content {
  background: var(--card-bg);
  border: 1px solid var(--border-color);
  border-radius: 8px;
  padding: 20px;
  width: 90%;
  max-width: 500px;
}

.modal-content h3 {
  margin-top: 0;
}

.modal-actions {
  margin-top: 20px;
  display: flex;
  justify-content: flex-end;
  gap: 10px;
}

/* Champ de note */
textarea {
  width: 100%;
  min-height: 60px;
  padding: 8px;
  border: 1px solid var(--border-color);
  border-radius: 4px;
  box-sizing: border-box;
}

/* Titre des sections (pages, séparateurs de prestations, etc.) */
.section-title {
  margin-top: 24px;
  margin-bottom: 12px;
  margin-left: auto;
  margin-right: auto;
  font-size: 20px;
  font-weight: bold;
  text-align: center;
  background-color: var(--card-bg);
  color: var(--text-color);
  border: 1px solid var(--border-color);
  padding: 10px 15px;
  border-radius: 8px;
  width: fit-content;
}

/* Message affiché lorsqu'aucune donnée n'est disponible */
.empty-state {
  text-align: center;
  color: var(--text-color);
  opacity: 0.7;
  font-style: italic;
  margin-top: 12px;
}

/* Liste d'éléments sélectionnables */
.select-list {
  max-height: 200px;
  overflow-y: auto;
  border: 1px solid var(--border-color);
  border-radius: 4px;
  padding: 8px;
  margin-bottom: 12px;
}

.select-list label {
  display: flex;
  align-items: center;
  margin-bottom: 6px;
}

.select-list input[type="checkbox"] {
  margin-right: 8px;
}

/* Bouton flottant pour ajout */
.fab {
  position: fixed;
  bottom: 80px;
  right: 20px;
  width: 56px;
  height: 56px;
  border-radius: 50%;
  background-color: var(--primary-color);
  color: #fff;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 28px;
  cursor: pointer;
  box-shadow: 0 2px 4px rgba(0,0,0,0.3);
}

/* Section générique pour les paramètres */
.settings-section {
  /* Tailwind classes will style the container */
  margin-top: 20px;
}

.settings-section h3 {
  margin-top: 0;
}

/* Bouton de déconnexion */
.logout-btn,
.delete-account-btn {
  margin-top: 20px;
  padding: 10px;
  background-color: var(--danger-color);
  color: #fff;
  border: none;
  border-radius: 4px;
  cursor: pointer;
  width: 100%;
}

.logout-btn:hover,
.delete-account-btn:hover {
  opacity: 0.9;
}

/* Agenda */
.agenda-list {
  list-style: none;
  padding: 0;
}

.agenda-item {
  margin-bottom: 8px;
}

.agenda-item a {
  color: var(--primary-color);
  text-decoration: none;
}

/* Calendrier mensuel */
.calendar-nav {
  display: flex;
  align-items: center;
  gap: 8px;
  margin-bottom: 8px;
  justify-content: center;
  /* Trame de fond adaptée au thème */
  background-color: var(--card-bg);
  color: var(--text-color);
  padding: 4px 8px;
  border: 1px solid var(--border-color);
  border-radius: 4px;
}

/* Boutons de navigation (flèches) */
.calendar-nav button {
  background: var(--primary-color);
  color: #fff;
  border: none;
  padding: 2px 8px;
  border-radius: 4px;
  cursor: pointer;
}

.calendar-nav button:hover {
  opacity: 0.9;
}

/* Libellé mois/année */
.calendar-nav span {
  font-weight: bold;
  background-color: var(--card-bg);
  color: var(--text-color);
  padding: 2px 6px;
  border: 1px solid var(--border-color);
  border-radius: 4px;
}

.calendar-grid {
  display: grid;
  grid-template-columns: repeat(7, 1fr);
  gap: 4px;
  margin-top: 10px;
}

.calendar-day-name {
  font-weight: bold;
  text-align: center;
  /* Fond adapté au thème pour les jours de la semaine */
  background-color: var(--card-bg);
  color: var(--text-color);
  padding: 4px 0;
  border: 1px solid var(--border-color);
  border-radius: 4px;
}

.calendar-cell {
  border: 1px solid var(--border-color);
  min-height: 80px;
  padding: 4px;
  /* Ajout d'une trame translucide pour mettre en valeur la date */
  background-color: rgba(255, 255, 255, 0.4);
}

.calendar-cell.empty {
  border: none;
}

.calendar-date {
  font-weight: bold;
  /* Fond adapté au thème derrière le numéro pour une meilleure lisibilité */
  display: inline-block;
  background-color: var(--card-bg);
  color: var(--text-color);
  padding: 2px 4px;
  border: 1px solid var(--border-color);
  border-radius: 4px;
}

.calendar-event {
  background: var(--primary-color);
  color: #fff;
  margin-top: 2px;
  padding: 2px;
  border-radius: 3px;
  cursor: pointer;
  font-size: 12px;
}

.calendar-event.performance {
  background: #f66;
}

.calendar-event.rehearsal {
  background: #6cf;
}

.user-info {
  font-weight: bold;
  text-align: center;
  margin-top: 8px;
  color: var(--primary-color);
}

.welcome-section {
  margin-bottom: 1rem;
  font-size: 1.25rem;
}

.upcoming-section {
  margin-top: 1rem;
}
