/*
  Styles généraux pour l'application BandTrack.
  On utilise des variables CSS pour permettre de changer rapidement de thème
  (mode clair ou sombre). Le changement de thème est géré en ajoutant ou en
  supprimant la classe `dark` sur l'élément <body> dans app.js.
*/

:root {
  --bg-color: #f7f7f7;
  --text-color: #222222;
  --primary-color: #3366ff;
  --card-bg: #ffffff;
  --border-color: #e0e0e0;
  --nav-bg: #ffffff;
  --nav-border: #cccccc;
  --danger-color: #d9534f;
  --success-color: #5cb85c;
}

/* Thème sombre (écrase certaines variables) */
body.dark {
  --bg-color: #1e1e1e;
  --text-color: #e0e0e0;
  --primary-color: #6699ff;
  --card-bg: #2b2b2b;
  --border-color: #444444;
  --nav-bg: #2b2b2b;
  --nav-border: #555555;
  --danger-color: #e57373;
  --success-color: #81c784;
}

/* Templates visuels
   Chaque template définit ses propres couleurs via des variables CSS.  La
   classe ``template-classic`` correspond au style par défaut.  La
   classe ``template-groove`` propose un look inspiré des applications
   modernes de streaming musical, avec des tons bleu foncé et vert.
*/

/* Template classique – hérite des valeurs définies dans :root et .dark */
body.template-classic {
  /* Pas de redéfinition nécessaire pour l’instant */
}

/* Template groove (mode clair) */
body.template-groove {
  --bg-color: #022b43;
  --text-color: #e0f7fa;
  --primary-color: #00b894;
  --card-bg: #03324a;
  --border-color: #01496c;
  --nav-bg: #021f33;
  --nav-border: #01496c;
  --danger-color: #e74c3c;
  --success-color: #2ecc71;
}

/* Template groove en mode sombre – renforce les contrastes */
body.template-groove.dark {
  --bg-color: #011a2b;
  --text-color: #cce7f0;
  --primary-color: #00b894;
  --card-bg: #02253b;
  --border-color: #013a59;
  --nav-bg: #011e31;
  --nav-border: #013a59;
  --danger-color: #e74c3c;
  --success-color: #2ecc71;
}

/* Réinitialisation de base */
body, html {
  margin: 0;
  padding: 0;
  height: 100%;
  font-family: Arial, Helvetica, sans-serif;
  background-color: var(--bg-color);
  color: var(--text-color);
}

/* Container principal */
#app {
  padding-bottom: 8vh; /* espace pour la barre de navigation */
  min-height: 100vh;
  box-sizing: border-box;
  /* Ajout d’un padding en haut pour laisser de la place au logo */
  padding-top: 8vh;
}

/* En-tête avec logo */
.header {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  height: 8vh;
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 0 4vw;
  background-color: var(--nav-bg);
  border-bottom: 1px solid var(--nav-border);
  z-index: 200;
}

.logo-img {
  height: 5vh;
}

#group-name {
  flex: 1;
  text-align: center;
}

#user-info {
  display: flex;
  align-items: center;
  gap: 2vw;
}

#user-name {
  font-weight: bold;
}

#profile-btn img {
  width: 6vh;
  height: 6vh;
  border-radius: 50%;
}

/* Formulaires d'authentification */
.auth-container {
  max-width: 90vw;
  margin: 10vh auto;
  padding: 4vh 5vw;
  background: var(--card-bg);
  border: 1px solid var(--border-color);
  border-radius: 8px;
  box-shadow: 0 2px 4px rgba(0,0,0,0.1);
}

.auth-container h2 {
  margin-top: 0;
  text-align: center;
}

.auth-container label {
  display: block;
  margin-bottom: 1vh;
  margin-top: 2vh;
}

.auth-container input[type="text"],
.auth-container input[type="password"],
.auth-container input[type="date"] {
  width: 100%;
  padding: 1vh;
  border: 1px solid var(--border-color);
  border-radius: 4px;
  box-sizing: border-box;
}

.auth-container button {
  width: 100%;
  padding: 1.5vh 0;
  margin-top: 2vh;
  background-color: var(--primary-color);
  color: #fff;
  border: none;
  border-radius: 4px;
  cursor: pointer;
  font-size: 2.5vh;
}

.auth-container button:hover {
  opacity: 0.9;
}

.auth-container .link {
  display: block;
  text-align: center;
  margin-top: 2vh;
  color: var(--primary-color);
  text-decoration: none;
  cursor: pointer;
}

/* Page d'accueil après connexion */
.home-container {
  max-width: 90vw;
  margin: 10vh auto;
  padding: 4vh 5vw;
  background: var(--card-bg);
  border: 1px solid var(--border-color);
  border-radius: 8px;
  text-align: center;
  box-shadow: 0 2px 4px rgba(0,0,0,0.1);
}

.home-container button {
  padding: 1.5vh 5vw;
  margin-top: 2vh;
  background-color: var(--primary-color);
  color: #fff;
  border: none;
  border-radius: 4px;
  cursor: pointer;
  font-size: 2.5vh;
}

/* Barre de navigation en bas de page */
.nav-bar {
  position: fixed;
  bottom: 0;
  left: 0;
  width: 100%;
  height: 8vh;
  display: flex;
  align-items: center;
  justify-content: space-around;
  background-color: var(--nav-bg);
  border-top: 1px solid var(--nav-border);
  box-shadow: 0 -2px 5px rgba(0, 0, 0, 0.1);
  z-index: 100;
}

.nav-bar button {
  background: none;
  border: none;
  flex: 1;
  height: 100%;
  color: var(--text-color);
  font-size: 2vh;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  cursor: pointer;
}

.nav-bar button i {
  font-size: 3vh;
}

.nav-bar button .nav-label {
  font-size: 1.2vh;
}

.nav-bar button.active {
  color: var(--primary-color);
  font-weight: bold;
}

#nav-toggle {
  display: none;
  background: none;
  border: none;
  font-size: 4vh;
  color: var(--text-color);
  cursor: pointer;
}

@media (max-width: 480px) {
  .nav-bar {
    transform: translateY(100%);
    transition: transform 0.3s ease;
  }
  .nav-bar.open {
    transform: translateY(0);
  }
  #nav-toggle {
    display: block;
  }
}

/* Contenu de page */
.page {
  padding: 4vh 5vw;
}

/* Cartes pour les listes */
.card {
  background: var(--card-bg);
  border: 1px solid var(--border-color);
  border-radius: 8px;
  padding: 3vh 3vw;
  margin-bottom: 3vh;
}

.card.collapsed .card-details {
  display: none;
}

.card h3 {
  margin-top: 0;
  cursor: pointer;
}

.card-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.like-info {
  display: flex;
  gap: 1.5vw;
  align-items: center;
}

.like-btn {
  background: transparent;
  border: none;
  cursor: pointer;
  font-size: 3vh;
}

.actions {
  margin-top: 2vh;
  display: flex;
  gap: 2vw;
}

.actions button {
  padding: 1vh 2vw;
  border: none;
  border-radius: 4px;
  cursor: pointer;
  font-size: 2vh;
}

.btn-primary {
  background-color: var(--primary-color);
  color: #fff;
}

.btn-danger {
  background-color: var(--danger-color);
  color: #fff;
}

.btn-secondary {
  background-color: var(--border-color);
  color: var(--text-color);
}

/* Inputs spécifiques */
input[type="range"] {
  width: 100%;
  margin-top: 1vh;
}

.level-display {
  font-weight: bold;
}

/* Zone modale pour ajout */
.modal {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0, 0, 0, 0.4);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 200;
}

.modal-content {
  background: var(--card-bg);
  border: 1px solid var(--border-color);
  border-radius: 8px;
  padding: 4vh 5vw;
  width: 90%;
  max-width: 90vw;
}

.modal-content h3 {
  margin-top: 0;
}

.modal-actions {
  margin-top: 2vh;
  display: flex;
  justify-content: flex-end;
  gap: 2vw;
}

/* Champ de note */
textarea {
  width: 100%;
  min-height: 10vh;
  padding: 1vh;
  border: 1px solid var(--border-color);
  border-radius: 4px;
  box-sizing: border-box;
}

/* Séparateurs pour listes de prestations */
.section-title {
  margin-top: 3vh;
  margin-bottom: 2vh;
  font-size: 3vh;
  font-weight: bold;
}

/* Liste d'éléments sélectionnables */
.select-list {
  max-height: 30vh;
  overflow-y: auto;
  border: 1px solid var(--border-color);
  border-radius: 4px;
  padding: 1vh 1vw;
  margin-bottom: 2vh;
}

.select-list label {
  display: flex;
  align-items: center;
  margin-bottom: 1vh;
}

.select-list input[type="checkbox"] {
  margin-right: 2vw;
}

/* Bouton flottant pour ajout */
.fab {
  position: fixed;
  bottom: 12vh;
  right: 4vw;
  width: 10vh;
  height: 10vh;
  border-radius: 50%;
  background-color: var(--primary-color);
  color: #fff;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 4vh;
  cursor: pointer;
  box-shadow: 0 2px 4px rgba(0,0,0,0.3);
}

/* Section générique pour les paramètres */
.settings-section {
  margin-top: 2vh;
  padding: 2vh 2vw;
  border: 1px solid var(--border-color);
  border-radius: 8px;
  background: var(--card-bg);
}

.settings-section h3 {
  margin-top: 0;
}

/* Bouton de déconnexion */
.logout-btn {
  margin-top: 2vh;
  padding: 1.5vh 0;
  background-color: var(--danger-color);
  color: #fff;
  border: none;
  border-radius: 4px;
  cursor: pointer;
  width: 100%;
}

.logout-btn:hover {
  opacity: 0.9;
}

/* Agenda */
.agenda-list {
  list-style: none;
  padding: 0;
}

.agenda-item {
  margin-bottom: 1vh;
}

@media (max-width: 600px) {
  .header {
    height: 10vh;
    padding: 0 6vw;
  }

  .nav-bar {
    height: 10vh;
  }

  .nav-bar button {
    font-size: 4vw;
  }

  .auth-container,
  .home-container {
    margin: 8vh auto;
    padding: 3vh 5vw;
  }

  .auth-container button,
  .home-container button {
    font-size: 4vw;
    padding: 2vh 0;
  }

  .card {
    padding: 4vw;
    margin-bottom: 4vw;
  }
}

.agenda-item a {
  color: var(--primary-color);
  text-decoration: none;
}